{"ast":null,"code":"var _jsxFileName = \"/home/sachin/sem-2-2/DASS/Assignments/A2/2018101108/frontend/src/components/customersearch.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios'; // import { SearchBar } from 'react-native-elements';\n\nimport { getFromstorage // setInStorage,\n} from '../../src/utils/storage';\nexport default class CreateUser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      vendorproducts: [],\n      orderquantity: 0,\n      orderwill: false,\n      order_seller: '',\n      order_sellerid: '',\n      order_buyer: '',\n      order_buyerid: '',\n      order_productid: '',\n      order_name: '',\n      order_price: 0,\n      order_quantity: 0,\n      sorttype: '',\n      quantity: 0,\n      quantityordered: 0\n    };\n    this.onChangeName = this.onChangeName.bind(this);\n    this.onChangeSortType = this.onChangeSortType.bind(this);\n    this.onChangeOrderQuantity = this.onChangeOrderQuantity.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.func = this.func.bind(this);\n    this.func1 = this.func1.bind(this);\n  }\n\n  componentDidMount() {\n    const obj = getFromstorage('the_main_app');\n    console.log(\"hell yeah!\", obj);\n\n    if (obj && obj.token) {\n      const {\n        token\n      } = obj.token; //verify token\n\n      fetch('http://localhost:4000/api/account/verify?token=' + obj.token).then(res => res.json()).then(json => {\n        console.log('json', json);\n\n        if (json.success) {\n          console.log(\"is this even there?\");\n          this.setState({\n            token,\n            isLoading: false,\n            loggedin: true\n          });\n        } else {\n          console.log(\"this is not there!\");\n          this.setState({\n            isLoading: false,\n            loggedin: false\n          });\n        }\n      });\n    } else {\n      this.setState({\n        isLoading: false,\n        loggedin: false\n      });\n    }\n  }\n\n  onChangeName(event) {\n    this.setState({\n      name: event.target.value\n    });\n  }\n\n  onChangeSortType(event) {\n    this.setState({\n      sorttype: event.target.value\n    }, () => this.func1()); // this.func1()\n  }\n\n  onChangeOrderQuantity(event) {\n    this.setState({\n      orderquantity: event.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n\n    if (this.state.orderwill) {\n      const pro = {\n        seller: this.state.order_seller,\n        sellerid: this.state.order_sellerid,\n        buyer: this.state.order_buyer,\n        buyerid: this.state.order_buyerid,\n        productid: this.state.order_productid,\n        name: this.state.order_name,\n        price: this.state.order_price,\n        quantity: this.state.orderquantity\n      };\n      axios.post('http://localhost:4000/api/customer/order', pro).then(res => console.log(res.data));\n      alert('Order saved');\n      this.setState({\n        orderwill: ''\n      });\n      window.location.reload();\n    }\n\n    if (!this.state.orderwill) {\n      const Search = {\n        name: this.state.name\n      };\n      console.log('name', this.state.name);\n      axios.get('http://localhost:4000/api/customer/viewproducts', {\n        params: {\n          name: this.state.name,\n          sort: this.state.sorttype\n        }\n      }).then(response => {\n        this.setState({\n          vendorproducts: response.data\n        }); //     .then(p => {\n        //         this.state.vendorproducts.sort(function(a,b) {\n        //         return b.quantity-b.quantityordered-a.quantity+a.quantityordered;\n        //     }\n        //     )\n        // }\n        // );\n\n        this.state.vendorproducts.sort(function (a, b) {\n          return b.quantity - b.quantityordered - a.quantity + a.quantityordered;\n        });\n        console.log('tiwiw', this.state.vendorproducts);\n        console.log('hello');\n        console.log(response);\n      }).catch(function (error) {\n        console.log(error);\n      }); // window.location.reload()\n\n      this.setState({\n        name: ''\n      });\n    }\n  }\n\n  func(currentUser) {\n    // console.log(currentUser._id);\n    // const pro = {\n    //     seller: currentUser.seller,\n    //     buyer: obj.username,\n    //     buyerid: obj.token,\n    //     productid: currentUser._id,\n    //     name: currentUser.name,\n    //     price: currentUser.price,\n    //     quantity: orderquantity,\n    // }\n    // axios.post('http://localhost:4000/api/customer/order', pro)\n    //     .then(res => console.log(res.data));\n    // window.location.reload();\n    const obj = getFromstorage('the_main_app');\n    this.setState({\n      orderwill: true,\n      order_seller: currentUser.seller,\n      order_sellerid: currentUser.sellerid,\n      order_buyer: obj.username,\n      order_buyerid: obj.token,\n      order_productid: currentUser._id,\n      order_name: currentUser.name,\n      order_price: currentUser.price,\n      quantity: currentUser.quantity,\n      quantityordered: currentUser.quantityordered\n    });\n  }\n\n  func1() {\n    let ar = this.state.vendorproducts;\n    console.log('sorttype: ', this.state.sorttype);\n\n    if (this.state.sorttype == \"price\") {\n      console.log('hoho----price');\n      ar.sort(function (a, b) {\n        return b.price - a.price;\n      });\n    }\n\n    if (this.state.sorttype == \"quantityleft\") {\n      console.log('hoho----quantity');\n      ar.sort(function (a, b) {\n        return b.quantity - b.quantityordered - a.quantity + a.quantityordered;\n      });\n    }\n\n    if (this.state.sorttype == \"rating\") {\n      console.log('hoho----rating');\n      ar.sort(function (a, b) {\n        return b.sum * a.number - a.sum * b.number;\n      });\n    }\n\n    this.setState({\n      vendorproducts: ar\n    });\n    console.log(this.state.vendorproducts);\n  }\n\n  render() {\n    console.log('vp', this.state.vendorproducts.length);\n\n    if (!this.state.vendorproducts.length && !this.state.orderwill) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, \"Product Name: \"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: this.state.name,\n        onChange: this.onChangeName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Search\",\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }))));\n    }\n\n    if (this.state.orderwill) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, \"Quantity : \"), React.createElement(\"input\", {\n        type: \"number\",\n        className: \"form-control\",\n        max: this.state.quantity - this.state.quantityordered // max = {10}\n        ,\n        value: this.state.orderquantity,\n        onChange: this.onChangeOrderQuantity,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Order\",\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }))), React.createElement(\"table\", {\n        className: \"table table-striped\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, \"Name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, \"Quantity\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, \"Price\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, \"Quantity Left\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, \"Vendor\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, \"Vendor Rating\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, this.state.vendorproducts.map((currentUser, i) => {\n        return React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 255\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 256\n          },\n          __self: this\n        }, currentUser.name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 257\n          },\n          __self: this\n        }, currentUser.quantity), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 258\n          },\n          __self: this\n        }, currentUser.price), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259\n          },\n          __self: this\n        }, currentUser.quantity - currentUser.quantityordered), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260\n          },\n          __self: this\n        }, currentUser.seller), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261\n          },\n          __self: this\n        }, currentUser.sum / currentUser.number), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264\n          },\n          __self: this\n        }, \" \", React.createElement(\"button\", {\n          onClick: this.func.bind(null, currentUser, this.state.orderquantity),\n          className: \"btn btn-primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264\n          },\n          __self: this\n        }, \"Order\"), \" \"));\n      }))));\n    } // if(!token){\n    //     return (<div>\n    //         <p>Sign Up</p>\n    //     </div>);\n    // }\n\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, \"Product Name: \"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.name,\n      onChange: this.onChangeName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Search\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      onChange: this.onChangeSortType,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"price\",\n      name: \"Sort By\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }), \"Price\", React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"quantityleft\",\n      name: \"Sort By\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }), \"Quantity Left\", React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"rating\",\n      name: \"Sort By\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }), \"Rating\")), React.createElement(\"table\", {\n      className: \"table table-striped\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, \"Quantity\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }, \"Price\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, \"Quantity Left\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, \"Vendor\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }, \"Vendor Rating\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, this.state.vendorproducts.map((currentUser, i) => {\n      return React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      }, currentUser.name), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      }, currentUser.quantity), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }, currentUser.price), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }, currentUser.quantity - currentUser.quantityordered), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      }, currentUser.seller), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323\n        },\n        __self: this\n      }, currentUser.sum / currentUser.number), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }, \" \", React.createElement(\"button\", {\n        onClick: this.func.bind(null, currentUser, this.state.orderquantity),\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }, \"Order\"), \" \"));\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/home/sachin/sem-2-2/DASS/Assignments/A2/2018101108/frontend/src/components/customersearch.js"],"names":["React","Component","axios","getFromstorage","CreateUser","constructor","props","state","name","vendorproducts","orderquantity","orderwill","order_seller","order_sellerid","order_buyer","order_buyerid","order_productid","order_name","order_price","order_quantity","sorttype","quantity","quantityordered","onChangeName","bind","onChangeSortType","onChangeOrderQuantity","onSubmit","func","func1","componentDidMount","obj","console","log","token","fetch","then","res","json","success","setState","isLoading","loggedin","event","target","value","e","preventDefault","pro","seller","sellerid","buyer","buyerid","productid","price","post","data","alert","window","location","reload","Search","get","params","sort","response","a","b","catch","error","currentUser","username","_id","ar","sum","number","render","length","map","i"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\n// import { SearchBar } from 'react-native-elements';\nimport {\n    getFromstorage,\n    // setInStorage,\n} from '../../src/utils/storage'\n\nexport default class CreateUser extends Component {\n    \n    constructor(props) {\n        super(props);\n\n        this.state = {\n            name: '',\n            vendorproducts: [],\n            orderquantity: 0,\n            orderwill: false,\n            order_seller: '',\n            order_sellerid: '',\n            order_buyer: '',\n            order_buyerid: '',\n            order_productid: '',\n            order_name: '',\n            order_price: 0,\n            order_quantity: 0,\n            sorttype: '',\n            quantity: 0,\n            quantityordered: 0,\n        };\n\n        this.onChangeName = this.onChangeName.bind(this);\n        this.onChangeSortType = this.onChangeSortType.bind(this);\n        this.onChangeOrderQuantity = this.onChangeOrderQuantity.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n        this.func = this.func.bind(this);\n        this.func1 = this.func1.bind(this);\n    }\n\n    componentDidMount(){\n        const obj = getFromstorage('the_main_app');\n        console.log(\"hell yeah!\",obj);\n        if(obj && obj.token) {\n            const { token } = obj.token;\n            //verify token\n            fetch('http://localhost:4000/api/account/verify?token=' + obj.token)\n            .then((res) => res.json())\n            .then(json => {\n                console.log('json',json);\n                if(json.success){\n                    console.log(\"is this even there?\");\n                    this.setState({\n                        token,\n                        isLoading: false,\n                        loggedin: true\n                    });\n                }\n                else{\n                    console.log(\"this is not there!\");\n                    this.setState({\n                        isLoading: false,\n                        loggedin: false\n                    });\n                }\n            });\n        }\n        else {\n            this.setState({\n                isLoading: false,\n                loggedin: false \n            });\n        }\n    }\n    \n    onChangeName(event) {\n        this.setState({ name: event.target.value });\n    }\n    onChangeSortType(event) {\n        this.setState({ sorttype: event.target.value },()=> this.func1())\n        // this.func1()\n    }\n    onChangeOrderQuantity(event) {\n        this.setState({ orderquantity: event.target.value });\n    }\n\n    onSubmit(e) {\n        e.preventDefault();\n        if(this.state.orderwill){\n            const pro = {\n                seller: this.state.order_seller,\n                sellerid: this.state.order_sellerid,\n                buyer: this.state.order_buyer,\n                buyerid: this.state.order_buyerid,\n                productid: this.state.order_productid,\n                name: this.state.order_name,\n                price: this.state.order_price,\n                quantity: this.state.orderquantity,\n            }\n            axios.post('http://localhost:4000/api/customer/order', pro)\n                .then(res => console.log(res.data));\n                alert('Order saved');\n                this.setState({\n                    orderwill: '',\n                });\n            window.location.reload()\n        }\n        if(!this.state.orderwill){\n            const Search = {\n                name: this.state.name,\n            }\n            console.log('name',this.state.name)\n            axios.get('http://localhost:4000/api/customer/viewproducts', {\n                params: {\n                    name: this.state.name,\n                    sort: this.state.sorttype\n                }\n            })\n                .then(response => {\n                    this.setState({vendorproducts: response.data})\n                //     .then(p => {\n                //         this.state.vendorproducts.sort(function(a,b) {\n                //         return b.quantity-b.quantityordered-a.quantity+a.quantityordered;\n                //     }\n                //     )\n                // }\n\n                // );\n                this.state.vendorproducts.sort(function(a,b) {\n                    return b.quantity-b.quantityordered-a.quantity+a.quantityordered;\n                });\n                    console.log('tiwiw',this.state.vendorproducts);\n                    console.log('hello');\n                    console.log(response);\n                })\n                .catch(function(error) {\n                    console.log(error);\n                });\n            // window.location.reload()\n            this.setState({\n                name: '',\n            });\n        }\n    }\n    func(currentUser){\n        // console.log(currentUser._id);\n        // const pro = {\n        //     seller: currentUser.seller,\n        //     buyer: obj.username,\n        //     buyerid: obj.token,\n        //     productid: currentUser._id,\n        //     name: currentUser.name,\n        //     price: currentUser.price,\n        //     quantity: orderquantity,\n        // }\n        // axios.post('http://localhost:4000/api/customer/order', pro)\n        //     .then(res => console.log(res.data));\n        // window.location.reload();\n        const obj = getFromstorage('the_main_app');\n        this.setState({\n            orderwill: true,\n            order_seller: currentUser.seller,\n            order_sellerid: currentUser.sellerid,\n            order_buyer: obj.username,\n            order_buyerid: obj.token,\n            order_productid: currentUser._id,\n            order_name: currentUser.name,\n            order_price: currentUser.price,\n            quantity: currentUser.quantity,\n            quantityordered: currentUser.quantityordered\n        })\n    }\n    func1(){\n        let ar = this.state.vendorproducts;\n        console.log('sorttype: ',this.state.sorttype);\n        if(this.state.sorttype==\"price\"){\n            console.log('hoho----price');\n            \n            ar.sort(function(a,b) {\n                return b.price-a.price;\n            });\n        }\n        if(this.state.sorttype==\"quantityleft\"){\n            console.log('hoho----quantity');\n            ar.sort(function(a,b) {\n                return b.quantity-b.quantityordered-a.quantity+a.quantityordered;\n            });\n        }\n        if(this.state.sorttype==\"rating\"){\n            console.log('hoho----rating');\n            ar.sort(function(a,b) {\n                return b.sum*a.number - a.sum*b.number;\n            });\n        }\n        this.setState({\n            vendorproducts: ar\n        })\n        console.log(this.state.vendorproducts);\n    }\n    render() {\n        console.log('vp',this.state.vendorproducts.length);\n        if(!this.state.vendorproducts.length && !this.state.orderwill){\n            return(\n                <div>\n                <form onSubmit={this.onSubmit}>\n                    <div className=\"form-group\">\n                        <label>Product Name: </label>\n                        <input type=\"text\" \n                               className=\"form-control\" \n                               value={this.state.name}\n                               onChange={this.onChangeName}\n                               />\n                    </div>\n                    <div className=\"form-group\">\n                        <input type=\"submit\" value=\"Search\" className=\"btn btn-primary\"/>\n                    </div>\n                </form>\n            </div>\n                ) ;\n        }\n        if(this.state.orderwill){\n            return (\n                <div>\n                    <form onSubmit={this.onSubmit}>\n                        <div className=\"form-group\">\n                            <label>Quantity : </label>\n                            <input type=\"number\" \n                                   className=\"form-control\" \n                                   max = {this.state.quantity-this.state.quantityordered}\n                                    // max = {10}\n                                   value={this.state.orderquantity}\n                                   onChange={this.onChangeOrderQuantity}\n                                   />\n                        </div>\n                        <div className=\"form-group\">\n                            <input type=\"submit\" value=\"Order\" className=\"btn btn-primary\"/>\n                        </div>\n                    </form>\n                {/* </div>\n                <div> */}\n                <table className=\"table table-striped\">\n                    <thead>\n                        <tr>\n                            <th>Name</th>\n                            <th>Quantity</th>\n                            <th>Price</th>\n                            <th>Quantity Left</th>\n                            <th>Vendor</th>\n                            <th>Vendor Rating</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                    {   \n                        this.state.vendorproducts.map((currentUser, i) => {\n                            return (\n                                <tr>\n                                    <td>{currentUser.name}</td>\n                                    <td>{currentUser.quantity}</td>\n                                    <td>{currentUser.price}</td>\n                                    <td>{currentUser.quantity-currentUser.quantityordered}</td>\n                                    <td >{currentUser.seller}</td>\n                                    <td >{currentUser.sum/currentUser.number}</td>\n                                    {/* <td><input type=\"number\"className=\"form-control\"value={this.state.orderquantity}onChange={this.onChangeOrderQuantity}\n                                   /></td> */}\n                                    <td> <button onClick={this.func.bind(null,currentUser,this.state.orderquantity) } className=\"btn btn-primary\">Order</button> </td>\n                                </tr>\n                            )\n                        })\n                    }\n                    </tbody>\n                </table>\n            </div>\n            )\n        }\n        // if(!token){\n        //     return (<div>\n        //         <p>Sign Up</p>\n        //     </div>);\n        // }\n        \n        return (\n            <div>\n                <form onSubmit={this.onSubmit}>\n                    <div className=\"form-group\">\n                        <label>Product Name: </label>\n                        <input type=\"text\" \n                               className=\"form-control\" \n                               value={this.state.name}\n                               onChange={this.onChangeName}\n                               />\n                    </div>\n                    <div className=\"form-group\">\n                        <input type=\"submit\" value=\"Search\" className=\"btn btn-primary\"/>\n                    </div>\n                </form>\n            <div className=\"form-group\">\n                    <div onChange={this.onChangeSortType} >\n                        <input type=\"radio\" value=\"price\" name=\"Sort By\"/>Price\n                        <input type=\"radio\" value=\"quantityleft\" name=\"Sort By\"/>Quantity Left\n                        <input type=\"radio\" value=\"rating\" name=\"Sort By\"/>Rating \n                    </div>\n                </div>\n            <table className=\"table table-striped\">\n                <thead>\n                    <tr>\n                        <th>Name</th>\n                        <th>Quantity</th>\n                        <th>Price</th>\n                        <th>Quantity Left</th>\n                        <th>Vendor</th>\n                        <th>Vendor Rating</th>\n                    </tr>\n                </thead>\n                <tbody>\n                { \n                    this.state.vendorproducts.map((currentUser, i) => {\n                        return (\n                            <tr>\n                                <td>{currentUser.name}</td>\n                                <td>{currentUser.quantity}</td>\n                                <td>{currentUser.price}</td>\n                                <td>{currentUser.quantity-currentUser.quantityordered}</td>\n                                <td>{currentUser.seller}</td>\n                                <td >{currentUser.sum/currentUser.number}</td>\n                                {/* <td><input type=\"number\"className=\"form-control\"value={this.state.orderquantity}onChange={this.onChangeOrderQuantity}\n                               /></td> */}\n                                <td> <button onClick={this.func.bind(null,currentUser,this.state.orderquantity) } className=\"btn btn-primary\">Order</button> </td>\n                            </tr>\n                        )\n                    })\n                }\n                </tbody>\n            </table>\n        </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}