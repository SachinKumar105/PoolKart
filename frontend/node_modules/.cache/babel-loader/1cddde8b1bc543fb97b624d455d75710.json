{"ast":null,"code":"var _jsxFileName = \"/home/sachin/sem-2-2/DASS/Assignments/A2/2018101108/frontend/src/components/vendor.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { getFromstorage, setInStorage } from '../../src/utils/storage';\nexport default class UsersList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      vendorproducts: [],\n      username: '',\n      userid: '',\n      email: '',\n      password: '',\n      role: '',\n      isLoading: true,\n      signinerror: '',\n      token: ''\n    };\n  }\n\n  componentDidMount() {\n    const obj = getFromstorage('the_main_app');\n    console.log(\"hell yeah!\", obj);\n\n    if (obj && obj.token) {\n      const {\n        token\n      } = obj.token;\n      const j = {\n        userid: obj.token\n      };\n      console.log('like this?', j);\n      axios.get('http://localhost:4000/api/vendor/viewproducts', {\n        params: {\n          userid: obj.token\n        }\n      }).then(response => {\n        this.setState({\n          vendorproducts: response.data\n        });\n        console.log('hello');\n        console.log(response);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n\n  func(currentUser) {\n    console.log(currentUser._id);\n    const product = {\n      product_id: currentUser._id\n    };\n    axios.post('http://localhost:4000/api/vendor/cancel', product).then(res => console.log(res.data));\n    window.location.reload();\n  }\n\n  render() {\n    console.log('vp', this.state.vendorproducts.length);\n\n    if (!this.state.vendorproducts.length) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"No Products to show\"));\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table table-striped\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Quantity\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Price\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Quantity Ordered\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, this.state.vendorproducts.map((currentUser, i) => {\n      return React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, currentUser.name), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, currentUser.quantity), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, currentUser.price), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, currentUser.quantityordered), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \" \", React.createElement(\"button\", {\n        onClick: this.func.bind(null, currentUser),\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Cancel\"), \" \"));\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/home/sachin/sem-2-2/DASS/Assignments/A2/2018101108/frontend/src/components/vendor.js"],"names":["React","Component","axios","BrowserRouter","Router","Route","Link","getFromstorage","setInStorage","UsersList","constructor","props","state","vendorproducts","username","userid","email","password","role","isLoading","signinerror","token","componentDidMount","obj","console","log","j","get","params","then","response","setState","data","catch","error","func","currentUser","_id","product","product_id","post","res","window","location","reload","render","length","map","i","name","quantity","price","quantityordered","bind"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\"\n\nimport {\n    getFromstorage,\n    setInStorage,\n} from '../../src/utils/storage'\n\nexport default class UsersList extends Component {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            vendorproducts: [],\n            username: '',\n            userid: '',\n            email: '',\n            password: '',\n            role: '',\n            isLoading: true,\n            signinerror: '',\n            token: ''\n        }\n    }\n\n    componentDidMount() {\n        const obj = getFromstorage('the_main_app');\n        console.log(\"hell yeah!\",obj);\n        if(obj && obj.token) {\n            const { token } = obj.token;\n            const j = {\n                userid: obj.token\n            };\n            console.log('like this?',j);\n            axios.get('http://localhost:4000/api/vendor/viewproducts', {\n                params: {\n                    userid: obj.token\n                }\n            })\n                .then(response => {\n                    this.setState({vendorproducts: response.data});\n                    console.log('hello');\n                    console.log(response);\n                })\n                .catch(function(error) {\n                    console.log(error);\n                })\n        }\n    }\n    func(currentUser){\n        console.log(currentUser._id);\n        const product = {\n            product_id: currentUser._id\n        }\n        axios.post('http://localhost:4000/api/vendor/cancel', product)\n            .then(res => console.log(res.data));\n        window.location.reload();\n    }\n    render() {\n        console.log('vp',this.state.vendorproducts.length);\n        if(!this.state.vendorproducts.length){\n            return(\n                <div>\n                    <p>\n                        No Products to show\n                    </p>\n                </div>\n                ) ;\n        }\n        return (\n            <div>\n                <table className=\"table table-striped\">\n                    <thead>\n                        <tr>\n                            <th>Name</th>\n                            <th>Quantity</th>\n                            <th>Price</th>\n                            <th>Quantity Ordered</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                    { \n                        this.state.vendorproducts.map((currentUser, i) => {\n                            return (\n                                <tr>\n                                    <td>{currentUser.name}</td>\n                                    <td>{currentUser.quantity}</td>\n                                    <td>{currentUser.price}</td>\n                                    <td>{currentUser.quantityordered}</td>\n                                    <td> <button onClick={this.func.bind(null,currentUser) } className=\"btn btn-primary\">Cancel</button> </td>\n                                </tr>\n                            )\n                        })\n                    }\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}